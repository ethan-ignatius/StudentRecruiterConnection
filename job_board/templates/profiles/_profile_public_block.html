{# Shared profile view used by both Seeker-side profile page and Recruiter app view #}

<div class="card">
  <h1>{{ profile.user.get_full_name|default:profile.user.username }}</h1>

  {# Headline #}
  {% if profile.show_headline and profile.headline %}
    <p style="margin-top:10px;"><strong>{{ profile.headline }}</strong></p>
  {% endif %}

  {# Location #}
  {% if profile.show_location and profile.location %}
    <p class="field-help">{{ profile.location }}</p>
  {% endif %}

  {# Summary #}
  {% if profile.show_summary and profile.summary %}
    <h2>About</h2>
    <p>{{ profile.summary|linebreaks }}</p>
  {% endif %}

  {# Skills #}
  {% if profile.show_skills and profile.skills.count %}
    <h2>Skills</h2>
    <p>{{ profile.skills.all|join:", " }}</p>
  {% endif %}
</div>

{# Experience #}
<div class="card" style="margin-top:18px;">
  <h2>Experience</h2>
  <div class="timeline">
    {% for x in experiences_qs %}
      <div class="timeline-item">
        <strong>{{ x.title }}</strong> — {{ x.company }}
        <div class="field-help">
          {{ x.start_date }} – {{ x.end_date|default:"Present" }}{% if x.current %} • Current{% endif %}
        </div>
        <div>{{ x.description|linebreaks }}</div>
      </div>
    {% empty %}
      <p class="field-help">No experience added yet.</p>
    {% endfor %}
  </div>
</div>

{# Education #}
<div class="card" style="margin-top:18px;">
  <h2>Education</h2>
  <div class="timeline">
    {% for e in educations_qs %}
      <div class="timeline-item">
        <strong>{{ e.degree }}</strong>{% if e.field_of_study %} — {{ e.field_of_study }}{% endif %}
        <div class="field-help">
          {{ e.school }}
          {% if e.start_date or e.end_date %}
            • {{ e.start_date }} – {{ e.end_date|default:"Present" }}
          {% endif %}
        </div>
        <div>{{ e.description|linebreaks }}</div>
      </div>
    {% empty %}
      <p class="field-help">No education added yet.</p>
    {% endfor %}
  </div>
</div>

{# Links #}
<div class="card" style="margin-top:18px;">
  <h2>Links</h2>
  <div class="timeline">
    {% for l in links_qs %}
      <div class="timeline-item">
        {{ l.label|default:l.get_kind_display }}:
        <a href="{{ l.url }}" target="_blank" rel="noopener">{{ l.url }}</a>
      </div>
    {% empty %}
      <p class="field-help">No links yet.</p>
    {% endfor %}
  </div>
</div>
