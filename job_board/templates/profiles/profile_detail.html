{% extends "base.html" %}
{% block title %}{{ profile.user.username }}{% endblock %}
{% block content %}
  <div class="card">
    <h1>{{ profile.user.get_full_name|default:profile.user.username }}</h1>
    <p class="field-help">{{ profile.location|default:"Location not set" }}</p>
    <p style="margin-top:10px;"><strong>{{ profile.headline|default:"Add a headline to stand out" }}</strong></p>
    {% if profile.summary %}
      <p style="margin-top:10px;">{{ profile.summary|linebreaks }}</p>
    {% endif %}

    {% if profile.skills.all %}
      <h2>Skills</h2>
      <p>{{ profile.skills.all|join:", " }}</p>
    {% endif %}
  </div>

  <div class="card" style="margin-top:18px;">
    <h2>Experience</h2>
    <div class="timeline">
      {% for x in profile.experiences.all %}
        <div class="timeline-item">
          <strong>{{ x.title }}</strong> — {{ x.company }}
          <div class="field-help">
            {{ x.start_date }} – {{ x.end_date|default:"Present" }}{% if x.current %} • Current{% endif %}
          </div>
          <div>{{ x.description|linebreaks }}</div>
        </div>
      {% empty %}
        <p class="field-help">No experience added yet.</p>
      {% endfor %}
    </div>
  </div>

  <div class="card" style="margin-top:18px;">
    <h2>Education</h2>
    <div class="timeline">
      {% for e in profile.educations.all %}
        <div class="timeline-item">
          <strong>{{ e.school }}</strong> — {{ e.degree }} {{ e.field_of_study }}
          <div class="field-help">{{ e.start_date }} – {{ e.end_date|default:"" }}</div>
          <div>{{ e.description|linebreaks }}</div>
        </div>
      {% empty %}
        <p class="field-help">No education added yet.</p>
      {% endfor %}
    </div>
  </div>

  <div class="card" style="margin-top:18px;">
    <h2>Links</h2>
    <div class="timeline">
      {% for l in profile.links.all %}
        <div class="timeline-item">
          <a href="{{ l.url }}" target="_blank" rel="noopener">
            {{ l.label|default:l.get_kind_display }}
          </a>
        </div>
      {% empty %}
        <p class="field-help">No links yet.</p>
      {% endfor %}
    </div>
  </div>
{% endblock %}
